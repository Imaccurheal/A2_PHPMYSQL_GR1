{# TODO resolve direction link on href #}
{% extends 'base.html.twig' %}

{% block title %}
    {{ parent() }} - MY Articles
{% endblock %}

{% block content %}
    {% for article in var_articles %}
        <article class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
            <header>
                <h1><a href="/MY_TWIG_PROJECT/article.php?id={{ article.id }}">{{ article.title }}</a></h1>
                <img src="{{ article.image }}" alt="{{ article.title }}" title="{{ article.title }}"/>
                <small>Written by {{ article.user_id }} on {{ article.created_at }}</small>
            </header>
            <div class="content">
                <p>{{ article.content }}</p>
            </div>
            <footer>
                <p>Posted in category: <a href="{{ article.id }}={{ article.category_id }}">{{ article.category_id }}</a></p>
                <p><a href="{{ tag.id }}={{ article.category_id }}"><span class="label label-primary">Primary</span></a></p>
            </footer>
        </article>
    {% endfor %}

    <ul class="pagination">
        <li {% if var_currentPage == '1' %}class="disabled"{% endif %}><a href="index.php?p={{ var_currentPage-1 }}">&laquo</a></li>
        {% for i in 1..var_nbPages %}
            <li {% if i == var_currentPage %}class="active"{% endif %}><a href="index.php?p={{ i }}">{{ i }}</a></li>
        {% endfor %}
        <li {% if var_currentPage == var_nbPages %}class="disabled"{% endif %}><a href="index.php?p={{ var_currentPage+1 }}">&raquo</a></li>
    </ul>
{% endblock %}